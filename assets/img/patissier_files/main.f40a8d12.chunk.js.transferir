(this["webpackJsonpweb-preview"]=this["webpackJsonpweb-preview"]||[]).push([[0],{1193:function(e,t,a){},1194:function(e,t,a){},1196:function(e,t,a){},1198:function(e,t,a){},1204:function(e,t,a){},1205:function(e,t,a){},1213:function(e,t,a){},1214:function(e,t,a){},1215:function(e,t,a){},1216:function(e,t,a){},1217:function(e,t,a){},1218:function(e,t,a){},1219:function(e,t,a){},1221:function(e,t,a){},1223:function(e,t,a){"use strict";a.r(t);a(520),a(524),a(544),a(545),a(553),a(554),a(556),a(557),a(558);var n=a(18),r=a.n(n),o=a(84);a(563);window.regeneratorRuntime=r.a;a(565);var c=a(0),l=a.n(c),i=a(48),s=a.n(i),u=a(164);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}var d=a(40),m=a(41),h=a(43),f=a(42),v=a(1241),b=a(1244),g=a(1245),E=a(515),y=a(1243),w=a(242),O=a.n(w),j=a(143),k=a.n(j),N=a(66),C=a.n(N),x=a(249),S=a.n(x),L=a(244),R=a.n(L),I=a(505),P=a.n(I),U=a(506),A="https://adalo.global.ssl.fastly.net",z=function(e){return"".concat(A,"/apps/").concat(e)},F=function(e){return"".concat(A,"/app-search?").concat(e)},M=a(516),T="https://foundry-dev-server.herokuapp.com",D={},B=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,c,l,i,s,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>1&&void 0!==u[1]?u[1]:[],n=t.librariesUsed,o=[],!n){e.next=13;break}return c=n,c=JSON.stringify(c),c=encodeURIComponent(c),l="".concat("https://component-registry.herokuapp.com","/api/libraries"),e.next=10,C.a.get(l,{params:{names:c,orgId:null===t||void 0===t?void 0:t.OrganizationId,appId:null===t||void 0===t?void 0:t.id}});case 10:i=e.sent,s=i.data,o=s;case 13:return a.map((function(e){return(o.filter((function(t){return(null===t||void 0===t?void 0:t.name)===e}))||[]).length>0?null:o=[].concat(Object(M.a)(o),[{name:e,version:"dev"}])})),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t,a,n){var r="".concat("https://component-marketplace.adalo.com","/").concat(e,"/").concat(t,"/runtime-").concat(t,".js");if(a&&n&&(r="".concat(T,"/libraries/").concat(e,"/runtime-dev.js?authToken=").concat(n)),D[r])return D[r];var o=document.createElement("script");o.src=r,o.setAttribute("crossorigin",""),document.body.appendChild(o);var c=new Promise((function(e,t){o.addEventListener("load",(function(){window.setTimeout((function(){e()}),100)})),o.addEventListener("error",(function(){t(new Error("Script could not load: ".concat(r)))}))}));return D[r]=c,c},W=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,c,l,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=G(),n=[],!a){e.next=15;break}return e.prev=3,o={authToken:a},c="".concat(T,"/libraries/?").concat(k.a.stringify(o)),e.next=8,C.a.get(c);case 8:l=e.sent,i=l.data,Array.isArray(i)&&(n=i),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:return e.next=17,B(t,n);case 17:return s=e.sent,u=s.map((function(e){var t=e.name,r=e.version;return n.includes(t)?_(t,null,!0,a):_(t,r)})),e.abrupt("return",Promise.allSettled(u));case 20:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){return k.a.parse(window.location.search.substring(1)).sessionToken},q=(a(1193),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){t.preventDefault(),(0,e.props.onShow)()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.app,t=e.name||"Untitled",a=e.icon||"default-app-icon.png",n="https://proton-resources-production.imgix.net/".concat(a,"?fit=crop&w=64&h=64&");return l.a.createElement("div",{className:"install-prompt"},l.a.createElement("div",{className:"install-prompt-header"},l.a.createElement("img",{alt:t,src:n,className:"install-prompt-icon",width:32,height:32}),l.a.createElement("h4",{className:"install-prompt-title"},t)),l.a.createElement("span",{className:"install-prompt-button",onClick:this.handleClick},"Add to Home Screen"))}}]),a}(c.Component)),H=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.app,a=e.onLoad;return t?l.a.createElement(l.a.Fragment,null,[l.a.createElement(J,{key:t.id,app:t,onLoad:a})]):null}}]),a}(c.Component),J=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).notifyLoaded=function(t){var a=e.props,n=a.app,r=a.onLoad;t===n.id&&r()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.app;W(t).then((function(){return e.notifyLoaded(t.id)}))}},{key:"render",value:function(){return null}}]),a}(c.Component),K=a(56),X=a.n(K),Q=function(e){var t=e.appId,a=e.name;return l.a.createElement("span",{className:"preview-app-icon-wrapper"},l.a.createElement("img",{src:"".concat(z(t),"/icon?size=120"),alt:a,className:"preview-app-icon"}))},V=(a(1194),a(509)),$=a.n(V),Y=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"))},Z=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hidden:!1},e.handleClose=function(){e.setState({hidden:!0})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.hidden,t=this.props.app;if(!Y()||!t)return null;var a=t.id,n=t.name;return l.a.createElement("div",{className:X()("ios-install-prompt-wrapper",{hidden:e})},l.a.createElement("div",{className:"ios-install-prompt-modal"},l.a.createElement("div",{className:"ios-install-prompt-close",onClick:this.handleClose},"\xd7"),l.a.createElement("div",{className:"ios-install-prompt-content"},l.a.createElement(Q,{appId:a,name:n}),l.a.createElement("h1",null,"Install ",n),l.a.createElement("p",null,"Install this application on your home screen to easily access it on the go.")),l.a.createElement("div",{className:"ios-install-prompt-cta"},"Just tap",l.a.createElement("img",{src:$.a,width:19,height:25,alt:"share"}),'then "Add to Home Screen"')))}}]),a}(c.Component),ee=Object(u.withLDConsumer)()(O.a),te=function(e){var t=e.app,a=Object(u.useLDClient)(),n=(t||{}).flagUser;return Object(c.useEffect)((function(){a&&t&&a.identify(n)}),[a,t,n]),null},ae=(a(1195),a(1196),window===window.top),ne=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={app:null,authenticationError:!1,currentComponentId:null,installPrompt:!1,librariesReady:!1,error:!1,appId:null},e.requestApp=Object(o.a)(r.a.mark((function t(){var a,n,o,c,l,i,s,u,p,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.match,n=a.params.appId,o="hplovecraft",!n){t.next=7;break}c=z(n),t.next=22;break;case 7:return t.prev=7,l=window.location.host.split(":")[0],i="host=".concat(encodeURIComponent(l)),s=F(i),t.next=13,C.a.get(s);case 13:u=t.sent,p=u.data,c=z(p.id),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(7),e.setState({error:!0}),console.error("ERROR RESOLVING APP HOST:  ".concat(t.t0));case 22:return t.prev=22,C.a.defaults.headers["x-server-auth"]=o,t.next=26,C.a.get(c);case 26:d=t.sent,e.setState({app:d.data,appId:d.data.id}),t.next=34;break;case 30:t.prev=30,t.t1=t.catch(22),e.setState({error:!0}),console.info("ERROR GETTING APP: ".concat(t.t1));case 34:case"end":return t.stop()}}),t,null,[[7,18],[22,30]])}))),e.handleLoadLibraries=function(){e.setState({librariesReady:!0})},e.handleUnauthorized=function(){e.setState({authenticationError:!0})},e.handleRouteChange=function(t){e.setState({currentComponentId:t.componentId})},e.getParams=function(){return k.a.parse(window.location.search.substring(1))},e.getOS=function(){return e.getParams().os},e.getLayoutGuides=function(){var t=e.getParams();return R.a.top>0?{top:R.a.top,bottom:0}:{top:+t.offset_top||0,bottom:+t.offset_bottom||0}},e.showInstallPrompt=function(){e.setState({installPrompt:!0})},e.beforeInstallPrompt=function(t){e.setState({installPrompt:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.requestApp(),window.addEventListener("beforeinstallprompt",this.beforeInstallPrompt)}},{key:"renderStatusBar",value:function(){var e=this.state,t=e.app,a=e.currentComponentId;if(ae)return null;if(!t||!t.components)return null;var n=t.components[a],r=this.getLayoutGuides();if(!n)return null;var o=n.statusBarStyle,c=!1,i=r.top>20;return"hidden"===o?null:("light"===o&&(c=!0),l.a.createElement("div",{className:"status-bar-wrapper"},l.a.createElement(P.a,{platform:this.getOS(),light:c,hasNotch:i})))}},{key:"render",value:function(){var e=this.state,t=e.app,a=e.librariesReady,n=e.authenticationError,r=e.installPrompt,o=e.error,i=e.appId,s=this.props,u=s.offsetTop,p=!s.analytics;if(n)return l.a.createElement("div",null,l.a.createElement("h1",null,"Unauthorized"));if(o)return l.a.createElement("div",null,l.a.createElement("h1",null,"Error getting app"));var d=this.getLayoutGuides(),m=window.protonRuntime||{};return l.a.createElement(c.Fragment,null,l.a.createElement(te,{app:t}),l.a.createElement(U.a,null,l.a.createElement("link",{rel:"shortcut icon",href:"".concat(z(i),"/icon?size=180&radius=7")}),l.a.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:"".concat(z(i),"/icon?size=180&radius=7")})),t?l.a.createElement(S.a,{title:t.name}):null,l.a.createElement(H,{app:t,onLoad:this.handleLoadLibraries}),l.a.createElement(ee,{app:a?t:null,baseURL:"https://database-red.adalo.com",baseAPIURL:"https://adalo-database-api.herokuapp.com",assetsBaseURL:"https://proton-resources-production.imgix.net",fileUploadsBaseURL:"https://proton-uploads-production.s3.amazonaws.com",imageUploadsBaseURL:"https://adalo-uploads.imgix.net",notificationsURL:"https://proton-notifications.herokuapp.com",transitionStyle:this.getOS(),onRoute:this.handleRouteChange,layoutGuides:d,libraries:a&&m,offsetTop:u,disableAnalytics:p}),t?this.renderStatusBar():null,t&&r?l.a.createElement(q,{app:t,onShow:r}):null,l.a.createElement(Z,{app:t}))}}]),a}(c.Component),re=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleWheel=function(e){(0!==e.deltaX||e.ctrlKey)&&e.preventDefault()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){document.body.addEventListener("wheel",this.handleWheel,{passive:!1,capture:"bubble"})}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("wheel",this.handleWheel)}},{key:"render",value:function(){return null}}]),a}(c.Component),oe=a(1242),ce=a(510),le=a.n(ce),ie=a(346),se=a.n(ie),ue=(a(1198),function(e){var t=e.expanded,a=e.small;return l.a.createElement("div",{className:X()("loading",{"loading-expanded":t,"loading-small":a})},l.a.createElement("div",{className:"loading-icon"}))}),pe=a(336),de=a.n(pe),me=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getScale=function(){var t=e.props.size.height;return(Math.max(window.innerHeight,400)-60)/(t+2*(e.hasNotch()?20:90))},e.forceRender=function(){e.forceUpdate()},e.getBaseURL=function(){return"/preview"},e.hasNotch=function(){var t=e.props.size,a=t.offset_top;return"ios"===t.os&&a>20},e.getURL=function(){var t=e.props,a=t.appId,n=t.size,r=n.width,o=n.height,c=n.os,l=n.offset_top,i=n.offset_bottom,s=e.getBaseURL(),u={os:c,offset_bottom:i,offset_top:l,w:r,h:o};return"".concat(s,"/").concat(a,"?").concat(k.a.stringify(u))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.size,t=e.width,a=e.height,n=this.hasNotch(),r=this.getURL(),o=this.getScale(),c={transform:"scale(".concat(o,")"),width:t+40,height:a+(n?40:180)},i={width:Math.ceil(o*c.width),height:Math.ceil(o*c.height)};return l.a.createElement("div",{className:"preview-frame-wrapper"},l.a.createElement(de.a,{target:window,onResize:this.forceRender}),l.a.createElement("div",{className:"preview-frame-inner-wrapper",style:i},l.a.createElement("div",{className:X()("preview-frame-border",{iphonex:n}),style:c},l.a.createElement("div",{className:"preview-frame-clip"},[l.a.createElement("iframe",{title:"Frame",allowFullScreen:!0,webkitallowfullscreen:"true",mozallowfullscreen:"true",key:r,src:r,width:t,height:a,className:"preview-frame",allow:"camera *; microphone *"})]),l.a.createElement("div",{className:"preview-frame-cover"}))))}}]),a}(c.Component),he=a(251),fe=a.n(he),ve=a(161),be=a.n(ve),ge=(a(1203),[{label:"iPhone XS",subtitle:"375 \xd7 812",value:{width:375,height:812,os:"ios",offset_top:44,offset_bottom:34}},{label:"iPhone XR",subtitle:"414 \xd7 896",value:{width:414,height:896,os:"ios",offset_top:44,offset_bottom:34}},{label:"iPhone 8",subtitle:"375 \xd7 667",value:{width:375,height:667,os:"ios"}},{label:"iPhone 8 Plus",subtitle:"414 \xd7 736",value:{width:414,height:736,os:"ios"}},{label:"iPhone SE",subtitle:"320 \xd7 568",value:{width:320,height:568,os:"ios"}},null,{label:"Galaxy S9",subtitle:"360 \xd7 740",value:{width:360,height:740,os:"android"}},{label:"Google Pixel 2",subtitle:"411 \xd7 731",value:{width:411,height:731,os:"android"}},null,{label:"iPad Pro",subtitle:"1024 \xd7 1366",value:{width:1024,height:1366,os:"ios"}},{label:"Kindle Fire",subtitle:"600 \xd7 1024",value:{width:600,height:1024,os:"android"}}]),Ee=ge[0].value,ye="web",we=[{label:"Web",value:ye},null].concat(ge),Oe=(c.Component,a(118)),je=a(144),ke=a(170),Ne=a(192),Ce=a.n(Ne),xe=function(e){return e?Ce.a.contrast(e,"#fff")>2.5?"#fff":"#000":null},Se=(a(1204),function(e){var t=e.className,a=e.type,n=void 0===a?"placeholder":a,r=e.small,o=e.fill,c=Object(ke.a)(e,["className","type","small","fill"]);return l.a.createElement("span",Object.assign({},c,{className:X()("icon",t,"icon-".concat(n),{"icon-small":r}),style:Object(Oe.a)(Object(Oe.a)({},c.style),{},{backgroundColor:o})}))}),Le=(a(1205),function(e){var t=e.children,a=e.content,n=e.className,r=e.backgroundColor,o=e.icon,c=e.text,i=e.loading,s=e.disabled,u=Object(ke.a)(e,["children","content","className","backgroundColor","icon","text","loading","disabled"]),p=xe(r),d=function(e,t){if(!e)return null;var a=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return t?"rgba(".concat(a,", ").concat(n,", ").concat(r,", ").concat(t,")"):"rgb(".concat(a,", ").concat(n,", ").concat(r,")")}(r,.5),m=(r=s||i?d:r)?{backgroundColor:r,color:p}:null;return l.a.createElement("button",Object.assign({},u,{className:X()("btn",{"btn-icon":o,"btn-text":c,"btn-loading":i},n),style:m,disabled:s}),o?l.a.createElement(Se,{type:o}):a||t,i?l.a.createElement("div",{className:"btn-loading-loader"},l.a.createElement(ue,{small:!0})):null)}),Re=function(e){var t=e.appId,a=e.branding,n=e.visibility,r=e.name,o=e.description,i=e.Organization,s=e.handleToggleModal,u=[{label:"Copy Link",onClick:e.handleCopyURL},{label:"Send Link via SMS",onClick:s}],p=Object(c.useState)(!1),d=Object(je.a)(p,2),m=d[0],h=d[1],f=m?{color:"white",borderColor:a.primary,backgroundColor:a.primary}:{color:a.primary,borderColor:a.primary};return l.a.createElement("div",{className:"app-details"},l.a.createElement("section",{className:"app-details-header"},l.a.createElement(Q,{appId:t,name:r}),l.a.createElement("div",{className:"app-details-header-text"},l.a.createElement("h1",{title:r},r),l.a.createElement("p",{title:"By ".concat(i&&i.name)},"By ",i&&i.name))),o&&l.a.createElement("section",{className:"app-details-body"},l.a.createElement("p",null,o)),l.a.createElement("section",{className:"app-details-actions"},l.a.createElement("div",null,"screens"===n||"data"===n?l.a.createElement("div",{className:"details-clone-button-wrapper"},l.a.createElement("a",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},style:f,className:"details-clone-button",href:"".concat("https://app.adalo.com","/apps/").concat(t,"/screens/").concat(n)},"Clone App")):null),l.a.createElement(he.MultiMenuTrigger,{menu:u,rowHeight:40,hideCarret:!0},l.a.createElement(Le,{backgroundColor:a.primary},"Share App"))))},Ie=a(511),Pe=a.n(Ie),Ue=function(e){var t=e.url,a=e.handleToggleModal,n=e.handleCopyURL;return l.a.createElement("div",{className:"qrcode-wrapper"},l.a.createElement(Pe.a,{className:"qrcode",value:t,size:156}),l.a.createElement("section",{className:"qrcode-body"},l.a.createElement("h2",null,"Scan to Install"),l.a.createElement("p",null,"*If your camera doesn't have a QR code scanner, ",l.a.createElement("br",null),"you can ",l.a.createElement(Le,{onClick:a,title:"open a modal to send the share page url via sms",content:"send the link via sms",text:!0})," or ",l.a.createElement(Le,{onClick:n,title:"copy the share page url to clipboard",content:"copy the link here.",text:!0}))))},Ae=a(512),ze=a.n(Ae),Fe=(a(1212),a(1213),function(e){var t=e.prepend,a=e.append,n=e.label,r=e.id,o=Object(ke.a)(e,["prepend","append","label","id"]),c=o.options?ze.a:"input";return l.a.createElement("div",{className:"input-wrapper"},n&&l.a.createElement("label",{htmlFor:r},n),l.a.createElement("div",{className:"input-group"},t&&l.a.createElement("div",{className:"input-group-prepend"},t),l.a.createElement(c,Object.assign({},o,{id:r})),a&&l.a.createElement("div",{className:"input-group-append"},a)))}),Me=(a(1214),function(e){var t=e.children,a=e.isOpen,n=e.handleClose,r=e.hideClose;return a?s.a.createPortal(l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-dimmer",onClick:n}),l.a.createElement("div",{className:"modal-container"},!r&&l.a.createElement(Le,{className:"modal-close",icon:"close",onClick:n}),l.a.createElement("div",{className:"modal-content"},t)))),document.body):null}),Te=function(e){var t=e.branding,a=e.isOpen,n=e.name,r=e.handleClose,o=e.handleChange,i=e.handleSubmit,s=e.value,u=e.sending,p=xe(t.primary),d=Object(c.useState)(!1),m=Object(je.a)(d,2),h=m[0],f=m[1],v=Object(c.useCallback)((function(){return s.length<12||s.length>12?f(!1):f(!0)}),[s]);return Object(c.useEffect)((function(){v()}),[v]),l.a.createElement(Me,{isOpen:a,handleClose:r},l.a.createElement("h1",null,"Send ",n," Link"),l.a.createElement("form",{onSubmit:i,autoComplete:"off"},l.a.createElement(Fe,{label:"Recipient's Phone Number (US Numbers Only)",id:"sendToPhone",placeholder:"000 000 0000",type:"text",options:{phone:!0,phoneRegionCode:"us"},prepend:l.a.createElement(Se,{small:!0,type:"exposure-plus-1",className:"sms-prepend-icon"}),append:l.a.createElement(Le,{type:"submit",backgroundColor:t.primary,className:"sms-button-append",disabled:!h,loading:u},l.a.createElement(Se,{type:"send",fill:p})),autoFocus:!0,value:s,onChange:o})))},De=(a(1215),{primary:"#00A898",secondary:"#FFC00E",background:"#FFFFFF",text:"#424242"}),Be=function(e){var t=e.app,a=Object(c.useState)(!1),n=Object(je.a)(a,2),i=n[0],s=n[1],u=function(e){return e&&e.preventDefault(),s(!i)},p=t.name,d=t.description,m=t.id,h=t.Organization,f=t.branding,v=t.visibility,b=window.location.href.split("?")[0];f=f||De;var g=function(e){e&&e.preventDefault();var t=document.createElement("input");document.body.appendChild(t),t.value=b,t.select(),document.execCommand("copy"),document.body.removeChild(t)},E={phoneNumber:"",sending:!1},y=Object(c.useState)(E),w=Object(je.a)(y,2),O=w[0],j=w[1],k=O.phoneNumber,N=O.sending,x=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(Object(Oe.a)(Object(Oe.a)({},O),{},{sending:!0})),a="".concat("https://adalo.global.ssl.fastly.net","/apps/").concat(m,"/send-sms"),n="+1".concat(k),e.prev=4,e.next=7,C.a.post(a,{phoneNumber:n,isFoundry:!0});case 7:return j(E),e.abrupt("return",u());case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"app-details-wrapper"},l.a.createElement(Re,{appId:m,name:p,description:d,Organization:h,branding:f,visibility:v,handleToggleModal:u,handleCopyURL:g}),l.a.createElement(Ue,{url:b,handleToggleModal:u,handleCopyURL:g}),l.a.createElement(Te,{branding:f,isOpen:i,name:p,handleClose:u,handleChange:function(e){var t=e.target.value;return j(Object(Oe.a)(Object(Oe.a)({},O),{},{phoneNumber:t}))},handleSubmit:x,value:k,sending:N}))},_e=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("a",{href:"https://adalo.com",target:"_blank",rel:"noopener noreferrer",className:"preview-proton-attribution"},l.a.createElement("span",{className:"logo",alt:"Adalo"}),l.a.createElement("h6",null,"Created with Adalo"))}}]),a}(c.Component),We=(a(1216),function(e){var t=e.branding,a=e.className,n=t&&t.primary,r=t&&t.secondary;return l.a.createElement("div",{className:X()("color-stripe",a)},l.a.createElement(Ge,{color:n}),l.a.createElement(Ge,{color:r}),l.a.createElement(Ge,{color:n}))}),Ge=function(e){var t=e.color;return l.a.createElement("div",{className:"color-stripe-bar",style:{backgroundColor:t}})},qe=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"web-preview-header-spacer"})}}]),a}(c.Component);a(1217);function He(){return l.a.createElement("div",{className:"error-page-wrapper"},l.a.createElement("div",{className:"error-page-content"},l.a.createElement("h1",null,"App Not Found"),l.a.createElement("p",null,"Unfortunately we couldn't find the app you're looking for. If this is your app, try checking your custom domain settings, and try again.")))}a(1218),a(1219);var Je=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={size:null,app:null},e.requestApp=Object(o.a)(r.a.mark((function t(){var a,n,o,c,l,i,s,u,p,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.match,n=a.params.appId,o=G()||"hplovecraft",!n){t.next=7;break}c=z(n),t.next=15;break;case 7:return l=window.location.host.split(":")[0],i="host=".concat(encodeURIComponent(l)),s=F(i),t.next=12,C.a.get(s);case 12:u=t.sent,p=u.data,c=z(p.id);case 15:return t.prev=15,C.a.defaults.headers["x-server-auth"]=o,t.next=19,C.a.get(c);case 19:d=t.sent,e.setState({app:d.data}),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(15),e.setState({error:!0}),console.error("ERROR: ".concat(t.t0));case 27:case"end":return t.stop()}}),t,null,[[15,23]])}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.requestApp()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.windowWidth,n=this.state,r=n.app,o=n.size;if(n.error)return l.a.createElement(He,null);if(!r)return l.a.createElement(ue,{expanded:!0});var c=r.id,i=r.primaryPlatform,s=r.showBranding;return"undefined"===typeof s&&(s=!0),"web"===i&&(o=o||ye),o===ye?l.a.createElement("div",null,l.a.createElement(se.a,{url:"".concat(z(c),"/icon?size=32&radius=7")}),l.a.createElement("div",{className:"web-preview-header"},l.a.createElement(We,{className:"top-stripe",branding:r.branding}),l.a.createElement("div",{className:"web-preview-header-logo"}),l.a.createElement(qe,null)),l.a.createElement("div",{className:"web-renderer-wrapper"},l.a.createElement(ne,{match:t,offsetTop:64}))):a<890?l.a.createElement(ne,{analytics:!0,match:t}):(o=o||Ee,l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{title:r.name}),l.a.createElement(se.a,{url:"".concat(z(c),"/icon?size=32&radius=7")}),l.a.createElement(We,{branding:r.branding,className:"top-stripe"}),l.a.createElement("div",{className:"preview"},l.a.createElement(Be,{app:r}),l.a.createElement(me,{appId:c,size:o})),s&&l.a.createElement(_e,null)))}}]),a}(c.Component),Ke=Object(oe.a)(le()(Je)),Xe=(a(1221),y.b(v.a)),Qe=Object(E.a)();Object(w.initTracing)("https://7d632bb3bf70415fb6b07fe29da3d795@o194799.ingest.sentry.io/5661682",{routingInstrumentation:y.a(Qe)});var Ve=function(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches},$e=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){Ve()&&document.body.classList.add("standalone")}},{key:"componentWillUnmount",value:function(){Ve()&&document.body.classList.remove("standalone")}},{key:"render",value:function(){return l.a.createElement(b.a,{history:Qe},l.a.createElement("div",{className:"app"},l.a.createElement(re,null),l.a.createElement(g.a,null,l.a.createElement(Xe,{exact:!0,path:"/",component:Ke}),l.a.createElement(Xe,{path:"/preview/:appId",component:ne}),l.a.createElement(Xe,{path:"/:appId",component:Ke})),l.a.createElement("div",{className:"app-border"})))}}]),a}(c.Component);function Ye(){return(Ye=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.asyncWithLDProvider)({clientSideID:"611aa0cd570200256f0ac47e",user:{key:"pre-init-fixed-key"},reactOptions:{useCamelCaseFlagKeys:!1}});case 2:t=e.sent,s.a.render(l.a.createElement(t,null,l.a.createElement($e,null)),document.getElementById("root")),p();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Ye.apply(this,arguments)}()},509:function(e,t,a){e.exports=a.p+"static/media/share.54625e9c.svg"},519:function(e,t,a){e.exports=a(1223)},814:function(e,t){}},[[519,1,2]]]);
//# sourceMappingURL=main.f40a8d12.chunk.js.map